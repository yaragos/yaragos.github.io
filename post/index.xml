<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Yaragos's Site</title><link>https://yaragos.top/post/</link><description>Recent content in Posts on Yaragos's Site</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>Yaragos</copyright><lastBuildDate>Sun, 27 Oct 2024 23:59:36 +0800</lastBuildDate><atom:link href="https://yaragos.top/post/index.xml" rel="self" type="application/rss+xml"/><item><title>读《自在独行》</title><link>https://yaragos.top/p/walk-alone-freely/</link><pubDate>Thu, 29 Aug 2024 23:41:01 +0800</pubDate><guid>https://yaragos.top/p/walk-alone-freely/</guid><description>&lt;img src="https://yaragos.top/p/walk-alone-freely/cover.jpg" alt="Featured image of post 读《自在独行》" />&lt;h2 id="书摘">书摘
&lt;/h2>&lt;div class="mycard">
&lt;div class="content">&lt;p>「孤独地走向未来·好读书」&lt;/p>
&lt;p>好读书就得受穷。心用在书上，便不投机将广东的服装贩到本市来赚个大价，也不取巧在市东买下肉鸡针注了盐水卖到市西；车架后不会带单位几根铁条几块木板回来做做沙发，饭盒里也不捎工地上的水泥来家修个浴池。钱就是那几张没奖金的工资，还得抠着买涨了价的新书，那就只好穿不悦人目的衣衫，吸让别人发呛的劣烟，吃大路菜，骑没铃的车。但小屋里有四架五架书，色彩之斑斓远胜过所有电器，读书读得了一点新知，几日不吃肉满口中仍有余香。手上何必戴那么重的金银，金银是矿，手铐也是矿嘛！老婆的脸上何必让涂那么厚的脂粉，狐狸正是太爱惜它的皮毛，世间才有了打猎的职业！都说当今贼多，贼却不偷书，贼便是好贼。他若要来，钥匙在门框上放着，要喝水喝水，要看书看书，抽屉的作家证中是夹有两张国库券。但贼不拿，说不定能送一条字条：“你比我还穷！”三百年后这字条还真成了高价文物。其实，说穷也不是穷到要饭，出门还是要带十元钱的，大丈夫嘛，视钱如粪土，它就只能装在鞋壳里头。&lt;/p>
&lt;p>好读书就别当官。心谋着书，上厕所都尿不净，裤裆老是湿的，哪里还有时间串上级领导的家去联络感情，也没有钱，拿什么去走通关关卡卡？即使当官，有没有整日开会的坐功？签发的文件上能像在新书上写读后感一样随便？或许知道在顶头上司面前要如谦谦后生，但懒散惯了，能在拜会时屁股只搭个沙发沿儿?也懂得猪没架子都不长，却怎么戏耍成性突然就严肃了脸面？谁个要整，要防谁整，能做到喜怒不露于色？何事得方，何事得圆，能控制感情用事？读书人不反对官，但读书人未必都能成为好官，让猫拉车，车就会拉到床下。那么，住楼就住顶层吧，居高却能望远，看戏就坐后排吧，坐后排看不清戏却看得清看戏的人。不要指望有人来送东西，也不烦有人寻麻烦，出门没人见面笑，也免了有朝一日墙倒众人推。&lt;/p>
&lt;p>好读书或许没个好身体。一是没钱买蜂王浆，用脑过度头发稀落，吃咸菜牙齿好肠胃虚寒；二是没权住大房间，和孩子争一张书桌，心绪浮躁易患肝炎；三是没时间，白日上班，晚上熬夜，免不了神经衰弱。但读书人上厕所时间长，那不是干肠，是在蹲坑读书；读书人最能忍受老婆的嘟囔，也不是脾性好，是读书入了迷两耳如塞。吃饭读书，筷子常会把烟灰缸的烟头送到口里，但不易得脚气病，因为读书时最习惯抠脚丫子。可怜都是蜘蛛般的体形，都是金鱼似的肿眼，没个倾国倾城貌，只有多愁多病身。读书人的病有读书病的药，药不在《本草》而直接是书，一是得本性酷好之书，二是得急需之书，三是得未见之书。但这药医生常不用，有了病就让住院，住院也好，总算有了囫囵时间读书了。所以，约伙打架，不必寻读书人，那鸡爪似的手没四两力，要欺负也不必对读书人，老虎吃鸡不是山中王。读书人性缓，要急急不了他，心又大，要气气不着，要让读书人死，其实很简单，给他些樟脑丸，因为他们是书虫。&lt;/p>
&lt;p>说了许多好读书的坏处，当然坏处还多，譬如好读书不是好丈夫，好读书没有好人缘，好读书性古钻。但是，能好读书必有读书的好，譬如能识天地之大，能晓人生之难，有自知之明，有预料之先，不为苦而悲，不受宠而欢，寂寞时不寂寞，孤单时不孤单，所以绝权欲，弃浮华，潇洒达观，于嚣烦尘世而自尊自重自强自立不卑不畏不俗不谄。说到这儿，有人在骂：瞧，这就是读书人的酸劲了，为什么不说“万般皆下品，唯有读书高”呢？真是阿Q精神喽！这骂得好，能骂出个阿Q来，便证明你在读书了，不读书怎么会知道鲁迅先生曾写过个阿Q呢？！因此还是好读书者好。&lt;/p>&lt;/div>
&lt;/div>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>有话则长，无话则短，随心所欲。&lt;/p></description></item><item><title>Go 切片增长策略</title><link>https://yaragos.top/p/slice-grow-strategy-in-go/</link><pubDate>Sat, 17 Aug 2024 19:57:40 +0800</pubDate><guid>https://yaragos.top/p/slice-grow-strategy-in-go/</guid><description>&lt;img src="https://yaragos.top/p/slice-grow-strategy-in-go/cover.jpg" alt="Featured image of post Go 切片增长策略" />&lt;h2 id="前言">前言
&lt;/h2>&lt;blockquote>
&lt;p>起因是一篇文章提到 Go 的切片扩容策略是“容量小于 1024 时，容量翻倍；容量大于等于 1024 时，容量增加 25%”。而我本地测试后与作者得出结论不同，故而上网搜寻资料。&lt;/p>
&lt;/blockquote>
&lt;h2 id="正文">正文
&lt;/h2>&lt;ul>
&lt;li>我尝试输出当切片长度从0增加到2000时，切片的容量变化情况，代码如下：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slice&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;[INIT] len=&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s">&amp;#34;cap=&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">cap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">preCap&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">cap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slice&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">preCap&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nb">cap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;len=&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s">&amp;#34;cap=&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">cap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">preCap&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">cap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>运行结果如下：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[INIT] len= 0 cap = 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 1 cap= 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 2 cap= 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 3 cap= 4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 5 cap= 8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 9 cap= 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 17 cap= 32
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 33 cap= 64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 65 cap= 128
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 129 cap= 256
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 257 cap= 512
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 513 cap= 848
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 849 cap= 1280
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 1281 cap= 1792
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">len= 1793 cap= 2560
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这显然不符合我在文章中看到的策略，找到一篇文章，其中提到 1.18 版本后策略如下：&lt;/p>
&lt;div class="mycard">
&lt;div class="content"> 当原slice容量(oldcap)小于256的时候，新slice(newcap)容量为原来的2倍；&lt;br>
原slice容量超过256，新slice容量 $newcap = oldcap+(oldcap+3*256)/4$。 &lt;/div>
&lt;/div>
&lt;p>这才对上了。&lt;br>
关于这个策略的实现，在 &lt;a class="link" href="https://github.com/golang/go/blob/889abb17e125bb0f5d8de61bb80ef15fbe2a130d/src/runtime/slice.go#L177" target="_blank" rel="noopener"
>src/runtime/slice.go&lt;/a> 的 &lt;code>growslice&lt;/code> 函数，目前源码中的乘除运算已经被替换成了位运算，所以看起来比较复杂。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>&lt;a class="link" href="https://golang.design/go-questions/slice/grow/" target="_blank" rel="noopener"
>参考文章&lt;/a>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>在查找资料的过程中发现，哪怕是 1.18 以前的版本，在容量超过 1024 后，也不是严格按照 25% 增长，因为计算出 newcap 后，作了一个&lt;strong>内存对齐&lt;/strong>，这和内存分配策略相关。最后的容量会大于等于基于前面计算得出的 newcap.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>切片扩容的策略优化后，$newcap=oldcap+(oldcap+3*256)/4$, 通过添加一个常量让底层数组大小的增长更加平滑。&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>为什么我选择 Go 语言</title><link>https://yaragos.top/p/why-i-choose-go/</link><pubDate>Fri, 09 Aug 2024 10:45:56 +0800</pubDate><guid>https://yaragos.top/p/why-i-choose-go/</guid><description>&lt;img src="https://yaragos.top/p/why-i-choose-go/cover.jpg" alt="Featured image of post 为什么我选择 Go 语言" />&lt;blockquote>
&lt;p>上手 Go 的最大感受是它的简洁和一致性，看起来像 C 和 Python 的结合体，但又不失严谨性。&lt;/p>
&lt;/blockquote>
&lt;h2 id="heading">{}
&lt;/h2>&lt;p>Go 的 &lt;code>if&lt;/code> 和 &lt;code>for&lt;/code> 语句必须用 &lt;code>{}&lt;/code> 包裹，且必须紧跟 &lt;code>{&lt;/code>，不能像 C 系语言那样另起一行。&lt;br>
这样的设计让代码层次更清晰，同时限制了代码风格，让代码看起来更一致。&lt;/p>
&lt;p>我个人认为编程语言的设计上就应该限制代码风格，让不同的程序员写出一致的代码，这样才能让代码更易读、易维护。&lt;/p>
&lt;p>另外声明变量使用 var，定义函数使用 func 等，同样让代码更一致。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">ok&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">check&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">ok&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something else
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="简短的命名">简短的命名
&lt;/h2>&lt;p>点名 Java，一堆嵌套的 package 和长长的类名和方法名，让人头大。&lt;br>
再看 Go 源码中一些变量和函数的命令，简洁明了。&lt;/p>
&lt;p>&lt;code>len()&lt;/code> &lt;code>cap()&lt;/code> &lt;code>prev&lt;/code> &lt;code>ctx&lt;/code>&lt;/p>
&lt;p>这些变量不是很容易看出全称吗？不明白 Java 源码中为什么命名要写上完整的单词。&lt;/p>
&lt;h2 id="符号美学">符号美学
&lt;/h2>&lt;p>&lt;code>:=&lt;/code> 声明并赋值&lt;/p>
&lt;p>&lt;code>[]&lt;/code> 切片、数组、map、泛型&lt;/p>
&lt;p>&lt;code>...&lt;/code> 可变参数、切片展开&lt;/p>
&lt;p>&lt;code>&amp;lt;-&lt;/code> channel 操作符&lt;/p>
&lt;h2 id="自动分号插入机制">自动分号插入机制
&lt;/h2>&lt;p>&lt;a class="link" href="https://go.dev/ref/spec#Semicolons" target="_blank" rel="noopener"
>Go 官方说明&lt;/a>&lt;/p>
&lt;div class="mycard">
&lt;div class="content">&lt;p>The formal syntax uses semicolons &amp;ldquo;;&amp;rdquo; as terminators in a number of productions. Go programs may omit most of these semicolons using the following two rules:&lt;/p>
&lt;ol>
&lt;li>When the input is broken into tokens, a semicolon is automatically inserted into the token stream immediately after a line&amp;rsquo;s final token if that token is&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>an identifier&lt;/li>
&lt;li>an integer, floating-point, imaginary, rune, or string literal&lt;/li>
&lt;li>one of the keywords break, continue, fallthrough, or return&lt;/li>
&lt;li>one of the operators and punctuation ++, &amp;ndash;, ), ], or }&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>To allow complex statements to occupy a single line, a semicolon may be omitted before a closing &amp;ldquo;)&amp;rdquo; or &amp;ldquo;}&amp;rdquo;.&lt;/li>
&lt;/ol>
&lt;p>To reflect idiomatic use, code examples in this document elide semicolons using these rules.&lt;/p>&lt;/div>
&lt;/div>
&lt;p>Go 语言自动添加分号的规则:&lt;/p>
&lt;p>Go 编译器会在词法分析阶段（lexical analysis）进行自动分号插入。 其核心规则是：如果一行代码的结尾符合特定条件，则在该行结尾处自动插入一个分号。 这些条件主要包括：&lt;/p>
&lt;ul>
&lt;li>行尾是标识符: 变量名、函数名等&lt;/li>
&lt;li>行尾是字面量: 整数、浮点、虚数、rune、string 字面量&lt;/li>
&lt;li>行尾是关键词: 某些特定的关键词，例如 break、continue、fallthrough 或 return&lt;/li>
&lt;li>行尾是运算符或分隔符: 某些特定的运算符或分隔符，例如 ++、&amp;ndash;、)、] 或 }&lt;/li>
&lt;/ul>
&lt;p>以上规则导致 &lt;code>{&lt;/code> 必须紧跟在语句或声明之后，否则 Go 编译器会自动在 &lt;code>{&lt;/code> 前插入分号，导致报错。&lt;br>
通过限制分号的省略，Go 语言鼓励程序员采用一种更规范、更易于阅读的代码风格。 这使得 Go 代码更易于维护和协作。&lt;/p>
&lt;h2 id="gofmt">gofmt
&lt;/h2>&lt;p>gofmt 工具强制代码格式，保证了所有 Go 代码风格的一致性，提高了代码的可读性和可维护性。&lt;br>
虽然这在一定程度上限制了程序员的自由，但从整体项目代码风格统一的角度来看，这种强制性是值得的。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>结语。&lt;/p></description></item><item><title>读《活着》</title><link>https://yaragos.top/p/reading-living/</link><pubDate>Fri, 26 Jul 2024 13:50:01 +0800</pubDate><guid>https://yaragos.top/p/reading-living/</guid><description>&lt;img src="https://yaragos.top/p/reading-living/cover.jpg" alt="Featured image of post 读《活着》" />&lt;h2 id="评论">评论
&lt;/h2>
&lt;blockquote>
&lt;p>人们对于电影的信赖极大地减少了阅读小说的乐趣。相反，关于语言的，优美诗篇的激情通过阅读得以保留。阅读这本小说是一项极大的成就……福贵接二连三地失去亲人，晚年只能同一头老牛度过，作者对于这种生活艰辛的描述却是用一种令人难以置信的平缓语调。“我是有时候想想伤心，有时候想想又很踏实”，这是福贵对自己的评价。读者可以把这当作余华铺设的情节和语言方面的线索。&lt;/p>
&lt;footer style="text-align:right">
&lt;strong>&lt;/strong>
&lt;cite>
奥地利《普通报》1998年3月20日&lt;/a>
&lt;/cite>
&lt;/footer>
&lt;/blockquote>
&lt;h2 id="书摘">书摘
&lt;/h2>&lt;details>
&lt;summary>家珍病了，有庆抽血抽死了&lt;/summary>
&lt;p>接下去的日子，白天我在田里干活，到了晚上我对家珍说进城去看看有庆好些了没有。我慢慢往城里走，走到天黑了，再走回来，到有庆坟前坐下。夜里黑乎乎的，风吹在我脸上，我和死去的儿子说说话，声音飘来飘去都不像是我的。坐到半夜我才回到家中，起先的几天，家珍都是睁着眼睛等我回来，问我有庆好些了吗？我就随便编些话去骗她。过了几天我回去时，家珍已经睡着了，她闭着眼睛躺在那里。我也知道老这么骗下去不是办法，可我只能这样，骗一天是一天，只要家珍觉得有庆还活着就好。&lt;/p>
&lt;p>有天晚上我离开有庆的坟，回到家里在家珍身旁躺下后，睡着的家珍突然说：&lt;/p>
&lt;p>“福贵，我的日子不长了。”&lt;/p>
&lt;p>我心里一沉，去摸她的脸，脸上都是泪。家珍又说：&lt;/p>
&lt;p>“你要照看好凤霞，我最不放心的就是她。”&lt;/p>
&lt;p>家珍都没提有庆，我当时心里马上乱了，想说些宽慰她的话也说不出来。&lt;/p>
&lt;p>第二天傍晚，我还和往常一样对家珍说进城去看有庆，家珍让我别去了，她要我背着她去村里走走。我让凤霞把她娘抱起来，抱到我背脊上。家珍的身体越来越轻了，瘦得身上全是骨头。一出家门，家珍就说：&lt;/p>
&lt;p>“我想到村西去看看。”&lt;/p>
&lt;p>那地方埋着有庆，我嘴里说好，腿脚怎么也不肯往那地方去，走着走着走到了东边村口。家珍这时轻声说：&lt;/p>
&lt;p>“福贵，你别骗我了，我知道有庆死了。”&lt;/p>
&lt;p>她这么一说，我站在那里动不了，腿也开始发软。我的脖子上越来越湿，我知道那是家珍的眼泪，家珍说：&lt;/p>
&lt;p>“让我去看看有庆吧。”&lt;/p>
&lt;p>我知道骗不下去，就背着家珍往村西走，家珍低声告诉我：&lt;/p>
&lt;p>“我夜夜听着你从村西走过来，我就知道有庆死了。”&lt;/p>
&lt;p>走到了有庆坟前，家珍要我把她放下去，她扑在了有庆坟上，眼泪哗哗地流，两只手在坟上像是要摸有庆，可她一点力气都没有，只有几根指头稍稍动着。我看着家珍这副样子，心里难受得要被堵住了，我真不该把有庆偷偷埋掉，让家珍最后一眼都没见着。&lt;/p>
&lt;p>家珍一直扑到天黑，我怕夜露伤着她，硬把她背到身后。家珍让我再背她到村口去看看，到了村口，我的衣领都湿透了，家珍哭着说：&lt;/p>
&lt;p>“有庆不会在这条路上跑来了。”&lt;/p>
&lt;p>我看着那条弯曲着通向城里的小路，听不到我儿子赤脚跑来的声音，月光照在路上，像是撒满了盐。&lt;/p>
&lt;/details>
&lt;details>
&lt;summary>凤霞难产死了&lt;/summary>
&lt;p>凤霞是在冬天里生孩子的，那天雪下得很大，窗户外面什么都看不清楚。凤霞进了产房一夜都没出来，我和二喜在外面越等越怕，一有医生出来，就上去问，知道还在生，便有些放心。到天快亮时，二喜说：&lt;/p>
&lt;p>“爹，你先去睡吧。”&lt;/p>
&lt;p>我摇摇头说：“心悬着睡不着。”&lt;/p>
&lt;p>二喜劝我：“两个人不能绑在一起，凤霞生完了孩子还得有人照应。”&lt;/p>
&lt;p>我想想二喜说得也对，就说：&lt;/p>
&lt;p>“二喜，你先去睡。”&lt;/p>
&lt;p>两个人推来推去，谁也没睡。到天完全亮了，凤霞还没出来，我们又怕了，比凤霞晚进去的女人都生完孩子出来了。我和二喜哪还坐得住，凑到门口去听里面的声音，听到有女人在叫唤，我们才放心。二喜说：&lt;/p>
&lt;p>“苦了凤霞了。”&lt;/p>
&lt;p>过了一会，我觉得不对，凤霞是哑巴，不会叫唤的，这么对二喜说，二喜的脸一下子白了，他跑到产房门口拼命喊：&lt;/p>
&lt;p>“凤霞，凤霞。”&lt;/p>
&lt;p>里面出来个医生朝二喜喊道：&lt;/p>
&lt;p>“你叫什么，出去。”&lt;/p>
&lt;p>二喜呜呜地哭了，他说：&lt;/p>
&lt;p>“我女人怎么还没出来。”&lt;/p>
&lt;p>旁边有人对我们说：&lt;/p>
&lt;p>“生孩子有快的，也有慢的。”&lt;/p>
&lt;p>我看看二喜，二喜看看我，想想可能是这样，就坐下来再等着，心里还是咚咚乱跳。没多久，出来一个医生问我们：&lt;/p>
&lt;p>“要大的？还是要小的？”&lt;/p>
&lt;p>她这么一问，把我们问傻了，她又说：&lt;/p>
&lt;p>“喂，问你们呢。”&lt;/p>
&lt;p>二喜扑通跪在了她跟前，哭着喊：&lt;/p>
&lt;p>“医生，救救凤霞，我要凤霞。”&lt;/p>
&lt;p>二喜在地上哇哇地哭，我把他扶起来，劝他别这样，这样伤身体，我说：&lt;/p>
&lt;p>“只要凤霞没事就好了，俗话说留得青山在，不怕没柴烧。”&lt;/p>
&lt;p>二喜呜呜地说：&lt;/p>
&lt;p>“我儿子没了。”&lt;/p>
&lt;p>我也没了外孙，我脑袋一低也呜呜地哭了。到了中午，里面有医生出来说：&lt;/p>
&lt;p>“生啦，是儿子。”&lt;/p>
&lt;p>二喜一听急了，跳起来叫道：&lt;/p>
&lt;p>“我没要小的。”&lt;/p>
&lt;p>医生说：“大的也没事。”&lt;/p>
&lt;p>凤霞也没事，我眼前就晕晕乎乎了，年纪一大，身体折腾不起啊。二喜高兴坏了，他坐在我旁边身体直抖，那是笑得太厉害了。我对二喜说：&lt;/p>
&lt;p>“现在心放下了，能睡觉了，过会再来替你。”&lt;/p>
&lt;p>谁料到我一走凤霞就出事了，我走了才几分钟，好几个医生跑进了产房，还拖着氧气瓶。凤霞生下了孩子后大出血，天黑前断了气。我的一双儿女都是生孩子上死的，有庆死是别人生孩子，凤霞死在自己生孩子。&lt;/p>
&lt;/details>
&lt;details>
&lt;summary>家珍死了&lt;/summary>
&lt;p>凤霞死后不到三个月，家珍也死了。家珍死前的那些日子，常对我说：&lt;/p>
&lt;p>“福贵，有庆、凤霞是你送的葬，我想到你会亲手埋掉我，就安心了。”&lt;/p>
&lt;p>她是知道自己快要死了，反倒显得很安心。那时候她已经没力气坐起来了，闭着眼睛躺在床上，耳朵还很灵，我收工回家推开门，她就会睁开眼睛，嘴巴一动一动，我知道她是在对我说话，那几天她特别爱说话，我就坐在床上，把脸凑下去听她说，那声音轻得跟心跳似的。人啊，活着时受了再多的苦，到了快死的时候也会想个法子来宽慰自己，家珍到那时也想通了，她一遍一遍地对我说：&lt;/p>
&lt;p>“这辈子也快过完了，你对我这么好，我也心满意足，我为你生了一双儿女，也算是报答你了，下辈子我们还要在一起过。”&lt;/p>
&lt;p>家珍说到下辈子还要做我的女人，我的眼泪就掉了出来，掉到了她脸上。她眼睛眨了两下微微笑了，她说：&lt;/p>
&lt;p>“凤霞、有庆都死在我前头，我心也定了，用不着再为他们操心，怎么说我也是做娘的女人，两个孩子活着时都孝顺我，做人能做成这样我该知足了。”&lt;/p>
&lt;p>她说我：“你还得好好活下去，还有苦根和二喜，二喜其实也是自己的儿子了，苦根长大了会和有庆一样对你好，会孝顺你的。”&lt;/p>
&lt;p>家珍是在中午死的。我收工回家，她眼睛睁了睁，我凑过去没听到她说话，就到灶间给她熬了碗粥。等我将粥端过去在床前坐下时，闭着眼睛的家珍突然捏住了我的手，我想不到她还会有这么大的力气，心里吃了一惊，悄悄抽了抽，抽不出来，我赶紧把粥放在一把凳子上，腾出手摸摸她的额头，还暖和着，我才有些放心。家珍像是睡着一样，脸看上去安安静静的，一点都看不出难受来。谁知没一会，家珍捏住我的手凉了，我去摸她的手臂，她的手臂是一截一截地凉下去，那时候她的两条腿也凉了，她全身都凉了，只有胸口还有一块地方暖和着，我的手贴在家珍胸口上，胸口的热气像是从我手指缝里一点一点漏了出来。她捏住我的手后来一松，就瘫在了我的胳膊上。&lt;/p>
&lt;/details>
&lt;div class="mycard">
&lt;div class="content">&lt;p>“家珍死得很好。”福贵说。那个时候下午即将过去了，在田里干活的人开始三三两两走上田埂，太阳挂在西边的天空上，不再那么耀眼，变成了通红一轮，涂在一片红光闪闪的云层上。&lt;/p>
&lt;p>福贵微笑地看着我，西落的阳光照在他脸上，显得格外精神。他说：&lt;/p>
&lt;p>“家珍死得很好，死得平平安安、干干净净，死后一点是非都没留下，不像村里有些女人，死了还有人说闲话。”&lt;/p>
&lt;p>坐在我对面的这位老人，用这样的语气谈论着十多年前死去的妻子，使我内心涌上一股难言的温情，仿佛是一片青草在风中摇曳，我看到宁静在遥远处波动。&lt;/p>&lt;/div>
&lt;/div>
&lt;details>
&lt;summary>苦根死了&lt;/summary>
&lt;p>苦根是吃豆子撑死的，这孩子不是嘴馋，是我家太穷，村里谁家的孩子都过得比苦根好，就是豆子，苦根也是难得能吃上。我是老昏了头，给苦根煮了这么多豆子，我老得又笨又蠢，害死了苦根。&lt;/p>
&lt;p>往后的日子我只能一个人过了，我总想着自己日子也不长了，谁知一过又过了这些年。我还是老样子，腰还是常常疼，眼睛还是花，我耳朵倒是很灵，村里人说话，我不看也能知道是谁在说。我是有时候想想伤心，有时候想想又很踏实，家里人全是我送的葬，全是我亲手埋的，到了有一天我腿一伸，也不用担心谁了。我也想通了，轮到自己死时，安安心心死就是，不用盼着收尸的人，村里肯定会有人来埋我的，要不我人一臭，那气味谁也受不了。我不会让别人白白埋我的，我在枕头底下压了十元钱，这十元钱我饿死也不会去动它的，村里人都知道这十元钱是给替我收尸的那个人，他们也都知道我死后是要和家珍他们埋在一起的。&lt;/p>
&lt;p>这辈子想起来也是很快就过来了，过得平平常常，我爹指望我光耀祖宗，他算是看错人了，我啊，就是这样的命。年轻时靠着祖上留下的钱风光了一阵子，往后就越过越落魄了，这样反倒好，看看我身边的人，龙二和春生，他们也只是风光了一阵子，到头来命都丢了。做人还是平常点好，争这个争那个，争来争去赔了自己的命。像我这样，说起来是越混越没出息，可寿命长，我认识的人一个挨着一个死去，我还活着。&lt;/p>
&lt;/details>
&lt;div class="mycard">
&lt;div class="content">&lt;p>牛到了家，也是我家里的成员了，该给它取个名字，想来想去还是觉得叫它福贵好。定下来叫它福贵，我左看右看都觉得它像我，心里美滋滋的，后来村里人也开始说我们两个很像，我嘿嘿笑，心想我早就知道它像我了。&lt;/p>
&lt;p>福贵是好样的，有时候嘛，也要偷偷懒，可人也常常偷懒，就不要说是牛了。我知道什么时候该让它干活，什么时候该让它歇一歇，只要我累了，我知道它也累了，就让它歇一会，我歇得来精神了，那它也该干活了。&lt;/p>
&lt;p>老人说着站了起来，拍拍屁股上的尘土，向池塘旁的老牛喊了一声，那牛就走过来，走到老人身旁低下了头。老人把犁扛到肩上，拉着牛的缰绳慢慢走去。&lt;/p>
&lt;p>两个福贵的脚上都沾满了泥，走去时都微微晃动着身体。我听到老人对牛说：&lt;/p>
&lt;p>“今天有庆、二喜耕了一亩，家珍、凤霞耕了也有七八分田，苦根还小都耕了半亩。你嘛，耕了多少我就不说了，说出来你会觉得我是要羞你。话还得说回来，你年纪大了，能耕这么些田也是尽心尽力了。”&lt;/p>
&lt;p>老人和牛渐渐远去，我听到老人粗哑的令人感动的嗓音在远处传来，他的歌声在空旷的傍晚像风一样飘扬，老人唱道——&lt;/p>
&lt;p>少年去游荡，中年想掘藏，老年做和尚。&lt;/p>
&lt;p>炊烟在农舍的屋顶袅袅升起，在霞光四射的空中分散后消隐了。&lt;/p>
&lt;p>女人吆喝孩子的声音此起彼伏，一个男人挑着粪桶从我跟前走过，扁担吱呀吱呀一路响了过去。慢慢地，田野趋向了宁静，四周出现了模糊，霞光逐渐退去。&lt;/p>
&lt;p>我知道黄昏正在转瞬即逝，黑夜从天而降了。我看到广阔的土地袒露着结实的胸膛，那是召唤的姿态，就像女人召唤着她们的儿女，土地召唤着黑夜来临。&lt;/p>&lt;/div>
&lt;/div>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>小说里描写福贵接二连三地死去亲人写得是真的好，用平缓的语调叙述这么悲痛的事。&lt;/p></description></item><item><title>我的配置 | 解锁 Linux 终端的最佳体验</title><link>https://yaragos.top/p/unlock-best-experience-of-linux-terminal/</link><pubDate>Tue, 09 Jul 2024 21:23:23 +0800</pubDate><guid>https://yaragos.top/p/unlock-best-experience-of-linux-terminal/</guid><description>&lt;img src="https://yaragos.top/p/unlock-best-experience-of-linux-terminal/cover.jpg" alt="Featured image of post 我的配置 | 解锁 Linux 终端的最佳体验" />&lt;blockquote>
&lt;p>之前是一直用默认的终端模拟器，命令提示符的主题是 &lt;code>oh-my-zsh&lt;/code> 的 &lt;code>ys&lt;/code>，当然，并没有使用 &lt;code>oh-my-zsh&lt;/code> 这个框架，因为太慢了，如果我的终端打开超过 0.5s 我就接受不了，所以用的是 &lt;code>zinit&lt;/code> ，我之前&lt;a class="link" href="https://yaragos.top/p/zsh-plugin-manager-from-zplug-to-zinit/" target="_blank" rel="noopener"
>这篇文章&lt;/a>讲了这个插件管理器。&lt;/p>
&lt;/blockquote>
&lt;h2 id="终端模拟器">终端模拟器
&lt;/h2>&lt;h3 id="wezterm">wezterm
&lt;/h3>&lt;p>&lt;a class="link" href="https://github.com/yaragos/dotfiles/blob/main/.wezterm.lua" target="_blank" rel="noopener"
>我的 wezterm 配置&lt;/a>&lt;/p>
&lt;p>使用 lua 作为配置语言，在 Github 搜关键词 &lt;code>wezterm config&lt;/code> 能看到 star 数最高的配置，那位大佬实现了彩色标签页，顶栏显示时间，随机背景图等功能，我不需要那么花哨，直接一个 &lt;code>.wezterm.lua&lt;/code> 就搞定了。&lt;/p>
&lt;p>当然功能还是比较简单的，只设置了一些常用的快捷键。wezterm 的内存占用还是挺高的，有一百多MB，当然启动速度还是挺快的，我默认终端是 &lt;code>kitty&lt;/code>，更轻更快,内存占用 50MB 左右。&lt;/p>
&lt;h3 id="kitty">kitty
&lt;/h3>&lt;p>&lt;a class="link" href="https://github.com/yaragos/dotfiles/tree/main/.config/kitty" target="_blank" rel="noopener"
>我的 kitty 配置&lt;/a>&lt;/p>
&lt;p>当然，我的 kitty 目前功能还是挺简陋的，kitty 似乎无法用鼠标拖动滚动条，所以每次通过鼠标滚轮或者快捷键翻页都挺慢的，之后有时间打算添加搜索的快捷键，方便我定位上面的文本，省的有时候找上面的输出要翻半天。&lt;/p>
&lt;p>kitty 是不支持 fcitx 输入法的中文输入的，&lt;a class="link" href="https://github.com/kovidgoyal/kitty/issues/469" target="_blank" rel="noopener"
>这篇 issue 中提到了。&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 在 /etc/profile 中添加&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">GLFW_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 或在 ~/.profile&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GLFW_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="命令提示符--cmd-prompt">命令提示符 | cmd-prompt
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/yaragos/dotfiles/blob/main/.config/starship.toml" target="_blank" rel="noopener"
>我的 starship 配置&lt;/a>&lt;/p>
&lt;p>我挺喜欢 oh-my-zsh 的 ys 主题的，一直使用的这个，无论是之前用 zplug 还是现在用 zinit,我都使用的 ys 主题，但 ys 主题依赖了一些 oh-my-zsh 的 plugin 和 lib, 为了精简我的 zsh 配置，我使用 starship 仿了个ys 主题，效果比原先的 ys 更好。&lt;/p>
&lt;p>我的 starship 配置是需要有 NerdFont 字体支持的。&lt;/p>
&lt;h2 id="终端字体">终端字体
&lt;/h2>&lt;p>终端字体当然是 nerd font 了，我的 nvim 和 starship 都需要 nerd font 字体。&lt;br>
我使用的是这两款：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/microsoft/cascadia-code" target="_blank" rel="noopener"
>Cascadia Code | Github&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/JetBrains/JetBrainsMono" target="_blank" rel="noopener"
>JetBrains Mono | Github&lt;/a>&lt;/p>
&lt;h2 id="zsh-体验优化">zsh 体验优化
&lt;/h2>&lt;h3 id="补全和自动建议历史命令搜索">补全和自动建议，历史命令搜索
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/junegunn/fzf" target="_blank" rel="noopener"
>fzf&lt;/a> + &lt;a class="link" href="https://github.com/Aloxaf/fzf-tab" target="_blank" rel="noopener"
>fzf-tab&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;kbd>Ctrl&lt;/kbd> + &lt;kbd>t&lt;/kbd> 搜索文件路径，&lt;br>
&lt;kbd>Ctrl&lt;/kbd> + &lt;kbd>r&lt;/kbd> 搜索历史命令，&lt;br>
&lt;kbd>Tab&lt;/kbd> 键补全命令参数或路径（这个好用）。&lt;/p>
&lt;h3 id="vi-mode">vi mode
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/jeffreytse/zsh-vi-mode" target="_blank" rel="noopener"
>zsh-vi-mode&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>zsh 默认是有 vi mode 的，但默认的功能更简陋。而且这个插件虽然叫 vi mode，但不仅支持 vi 模式 ，还支持 emacs 模式。&lt;br>
需要注意这个插件和 fzf 有冲突，需要像下面这样解决：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/jeffreytse/zsh-vi-mode/issues/4" target="_blank" rel="noopener"
>相关 issue&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># zsh-vi-mode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span> zvm_config&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ZVM_LINE_INIT_MODE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$ZVM_MODE_INSERT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ZVM_VI_INSERT_ESCAPE_BINDKEY&lt;/span>&lt;span class="o">=&lt;/span>jk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span> zvm_after_init&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bindkey -M vicmd &lt;span class="s2">&amp;#34;H&amp;#34;&lt;/span> vi-first-non-blank
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bindkey -M vicmd &lt;span class="s2">&amp;#34;L&amp;#34;&lt;/span> vi-end-of-line
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bindkey &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> magic-space &lt;span class="c1"># [Space] - don&amp;#39;t do history expansion&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bindkey &lt;span class="s2">&amp;#34;\C-j&amp;#34;&lt;/span> copy-prev-shell-word &lt;span class="c1"># file rename magick, use &amp;lt;C-m&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">source&lt;/span> &amp;lt;&lt;span class="o">(&lt;/span>fzf --zsh&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit ice &lt;span class="nv">depth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit light jeffreytse/zsh-vi-mode
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="结语">结语
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/yaragos/dotfiles/blob/main/.zshrc" target="_blank" rel="noopener"
>我的 zsh 配置&lt;/a>&lt;/p>
&lt;p>我的其他配置比如 vim 和 nvim 都在 &lt;a class="link" href="https://github.com/yaragos/dotfiles" target="_blank" rel="noopener"
>dotfiles&lt;/a> 仓库里。&lt;/p></description></item><item><title>读《许三观卖血记》</title><link>https://yaragos.top/p/xu-san-guan-mai-xue-ji/</link><pubDate>Wed, 05 Jun 2024 19:57:33 +0800</pubDate><guid>https://yaragos.top/p/xu-san-guan-mai-xue-ji/</guid><description>&lt;img src="https://yaragos.top/p/xu-san-guan-mai-xue-ji/cover.png" alt="Featured image of post 读《许三观卖血记》" />&lt;blockquote>
&lt;p>我也不聊什么写作手法，什么主题思想，什么读后感更没有，就放点原文在这。&lt;/p>
&lt;/blockquote>
&lt;h2 id="书摘">书摘
&lt;/h2>&lt;details>
&lt;summary>我挑了一章，内容太长，点击这里展开看。&lt;/summary>
&lt;p>「第三章」&lt;/p>
&lt;p>许三观的工作就是推着一辆放满那些白茸茸蚕茧的小车，行走在一个很大的屋顶下面。他和一群年轻的姑娘每天都要嘻嘻哈哈，隆隆的机器声在他和她们中间响着，她们的手经常会伸过来，在他头上拍一下，或者来到他的胸口把他往后一推。如果他在她们中间选一个做自己的女人，一个在冬天下雪的时候和他同心协力将被子裹得紧紧的女人，他会看上林芬芳，那个辫子垂到了腰上的姑娘，笑起来牙齿又白又整齐，还有酒窝，她一双大眼睛要是能让他看上一辈子，许三观心想自己就会舒服一辈子。林芬芳也经常把她的手拍到他的头上，推到他的胸前，有一次还偷偷在他的手背上捏了一下，那一次他把最好的蚕茧送到了她这里，从此以后他就没法把不好的蚕茧送给她了。&lt;/p>
&lt;p>另外一个姑娘也长得漂亮，她是一家小吃店里的服务员，在清晨的时候，她站在一口很大的油锅旁炸着油条，她经常啊呀啊呀地叫唤。沸腾起来的油溅到了她的手上，发现衣服上有一个地方脏了，走路时不小心滑了一下，或者看到下雨了，听到打雷了，她都会响亮地叫起来：&lt;/p>
&lt;p>“啊呀……”&lt;/p>
&lt;p>这个姑娘叫许玉兰，她的工作随着清晨的结束也就完成了，接下去的整个白昼里，她就无所事事地在大街上走来走去，她经常是嗑着瓜子走过来，走过来以后站住了，隔着大街与对面某一个相识的人大声说话，并且放声大笑，同时发出一声一声“啊呀”的叫唤，她的嘴唇上有时还沾着瓜子壳。当她张大嘴巴说话时，从她身边走过的人，能够幸运地呼吸到她嘴里散发出来的植物的香味。&lt;/p>
&lt;p>她走过了几条街道以后，往往是走回到了家门口，于是她就回到家中，过了十多分钟以后她重新出来时，已经换了一身衣服，她继续走在了街道上。她每天都要换三套衣服，事实上她只有三套衣服；她还要换四次鞋，而她也只有四双鞋。当她实在换不出什么新花样时，她就会在脖子上增加一条丝巾。&lt;/p>
&lt;p>她的衣服并不比别人多，可是别人都觉得她是这座城镇里衣服最多的时髦姑娘。她在大街上的行走，使她的漂亮像穿过这座城镇的河流一样被人们所熟悉，在这里人们都叫她油条西施……“你们看，油条西施走过来了。”“油条西施走到布店里去了，她天天都要去布店买漂亮的花布。”“不是，油条西施去布店是光看不买。”“油条西施的脸上香喷喷的。”“油条西施的手不漂亮，她的手太短，手指太粗。”“她就是油条西施？”&lt;/p>
&lt;p>油条西施，也就是许玉兰，有一次和一个名叫何小勇的年轻男子一起走过了两条街，两个人有说有笑，后来在一座木桥上，两个人站了很长时间，从夕阳西下一直站到黑夜来临。当时何小勇穿着干净的白衬衣，袖管卷到手腕上面，他微笑着说话时，一只手握住自己的手腕，他的这个动作使许玉兰十分着迷，这个漂亮的姑娘仰脸望着他时，眼睛里闪闪发亮。&lt;/p>
&lt;p>接下去有人看到何小勇从许玉兰家门前走过，许玉兰刚好从屋子里出来，许玉兰看到何小勇就“啊呀”叫了一声，叫完以后许玉兰脸上笑吟吟地说：&lt;/p>
&lt;p>“进来坐一会。”&lt;/p>
&lt;p>何小勇走进了许玉兰的家，许玉兰的父亲正坐在桌前喝着黄酒，看到一个陌生的年轻男子跟在女儿身后走了进来，他的屁股往上抬了抬，然后发出了邀请：&lt;/p>
&lt;p>“来喝一盅？”&lt;/p>
&lt;p>此后，何小勇经常坐在了许玉兰的家中，与她的父亲坐在一起，两个人一起喝着黄酒，轻声说着话，笑的时候也常常是窃窃私笑。于是许玉兰经常走过去大声问他们：&lt;/p>
&lt;p>“你们在说什么？你们为什么笑？”&lt;/p>
&lt;p>也就是这一天，许三观从乡下回到了城里，他回到城里时天色已经黑了，那个年月城里的街上还没有路灯，只有一些灯笼挂在店铺的屋檐下面，将石板铺出来的街道一截一截地照亮，许三观一会黑一会亮地往家中走去，他走过戏院时，看到了许玉兰。油条西施站在戏院的大门口，两只灯笼的中间，斜着身体在那里嗑瓜子，她的脸蛋被灯笼照得通红。&lt;/p>
&lt;p>许三观走过去以后，又走了回来，站在街对面笑嘻嘻地看着许玉兰，看着这个漂亮的姑娘如何让嘴唇一撅，把瓜子壳吐出去。许玉兰也看到了许三观，她先是瞟了他一眼，接着去看另外两个正在走过去的男人，看完以后她又瞟了他一眼，回头看看戏院里面，里面一男一女正在说着评书，她的头扭回来时看到许三观还站在那里。&lt;/p>
&lt;p>“啊呀！”许玉兰终于叫了起来，她指着许三观说，“你怎么可以这样盯着我看呢？你还笑嘻嘻的！”&lt;/p>
&lt;p>许三观从街对面走了过来，走到这个被灯笼照得红彤彤的女人面前，他说：&lt;/p>
&lt;p>“我请你去吃一客小笼包子。”&lt;/p>
&lt;p>许玉兰说：“我不认识你。”&lt;/p>
&lt;p>“我是许三观，我是丝厂的工人。”&lt;/p>
&lt;p>“我还是不认识你。”&lt;/p>
&lt;p>“我认识你，”许三观笑着说，“你就是油条西施。”&lt;/p>
&lt;p>许玉兰一听这话，咯咯咯咯地笑了起来，她说：&lt;/p>
&lt;p>“你也知道？”&lt;/p>
&lt;p>“没有人不知道你……走，我请你去吃小笼包子。”&lt;/p>
&lt;p>“今天我吃饱了，”许玉兰笑眯眯地说，“你明天请我吃小笼包子吧。”&lt;/p>
&lt;p>第二天下午，许三观把许玉兰带到了那家胜利饭店，坐在靠窗的桌子旁，也就是他和阿方、根龙吃炒猪肝喝黄酒的桌前，他像阿方和根龙那样神气地拍着桌子，对跑堂的叫道：&lt;/p>
&lt;p>“来一客小笼包子。”&lt;/p>
&lt;p>他请许玉兰吃了一客小笼包子，吃完小笼包子后，许玉兰说她还能吃一碗馄饨，许三观又拍起了桌子：&lt;/p>
&lt;p>“来一碗馄饨。”&lt;/p>
&lt;p>许玉兰这天下午笑眯眯地还吃了话梅，吃了话梅以后说嘴咸，又吃了糖果，吃了糖果以后说口渴，许三观就给她买了半个西瓜，她和许三观站在了那座木桥上，她笑眯眯地把半个西瓜全吃了下去，然后她笑眯眯地打起了嗝。当她的身体一抖一抖地打嗝时，许三观数着手指开始算一算这个下午花了多少钱。&lt;/p>
&lt;p>“小笼包子两角四分，馄饨九分钱，话梅一角，糖果买了两次共计两角三分，西瓜半个有三斤四两花了一角七分，总共是八角三分钱……你什么时候嫁给我？”&lt;/p>
&lt;p>“啊呀！”许玉兰惊叫起来，“你凭什么要我嫁给你？”&lt;/p>
&lt;p>许三观说：“你花掉了我八角三分钱。”&lt;/p>
&lt;p>“是你自己请我吃的，”许玉兰打着嗝说，“我还以为是白吃的呢，你又没说吃了你的东西就要嫁给你……”&lt;/p>
&lt;p>“嫁给我有什么不好？”许三观说，“你嫁给我以后，我会疼你护着你，我会经常让你一个下午就吃掉八角三分钱。”&lt;/p>
&lt;p>“啊呀，”许玉兰叫了起来，“要是我嫁给了你，我就不会这么吃了，我嫁给你以后就是吃自己的了，我舍不得……早知道是这样，我就不吃了。”&lt;/p>
&lt;p>“你也不用后悔，”许三观安慰她，“你嫁给我就行了。”&lt;/p>
&lt;p>“我不能嫁给你，我有男朋友了，我爹也不会答应的，我爹喜欢何小勇……”&lt;/p>
&lt;p>于是，许三观就提着一瓶黄酒一条大前门香烟，来到许玉兰家，他在许玉兰父亲的对面坐了下来，将黄酒和香烟推了过去，然后滔滔不绝地说了起来：&lt;/p>
&lt;p>“你知道我爹吧？我爹就是那个有名的许木匠，他老人家活着的时候专给城里大户人家做活，他做出来的桌子谁也比不上，伸手往桌面上一摸，就跟摸在绸缎上一样光滑。你知道我妈吧？我妈就是金花，你知道金花吗？就是那个城西的美人，从前别人都叫她城西美人，我爹死了以后她嫁给了一个国民党连长，后来跟着那个连长跑了。我爹只有我这么一个儿子，我妈和那个连长是不是生了我就不知道了。我叫许三观，我两个伯伯的儿子比我大，我在许家排行老三，所以我叫许三观，我是丝厂的工人，我比何小勇大两岁，比他早三年参加工作，我的钱肯定比他多，他想娶许玉兰还得筹几年钱，我结婚的钱都准备好了，我是万事皆备只欠东风了。”&lt;/p>
&lt;p>许三观又说：“你只有许玉兰一个女儿，许玉兰要是嫁给了何小勇，你家就断后了，生出来的孩子不管是男是女，都得姓何。要是嫁给了我，我本来就姓许，生下来的孩子也不管是男是女，都姓许，你们许家后面的香火也就接上了，说起来我娶了许玉兰，其实我就和倒插门的女婿一样。”&lt;/p>
&lt;p>许玉兰的父亲听到最后那几句话，嘿嘿笑了起来，他看着许三观，手指在桌上笃笃地敲着，他说：&lt;/p>
&lt;p>“这一瓶酒，这一条香烟，我收下了。你说得对，我女儿要是嫁给了何小勇，我许家就断后了。我女儿要是嫁给了你，我们两个许家的香火都接上了。”&lt;/p>
&lt;p>许玉兰知道父亲的选择以后，坐在床上掉出了眼泪，她的父亲和许三观站在一旁，看着她呜呜地用手背抹着眼泪，她的父亲对许三观说：&lt;/p>
&lt;p>“看到了吗？这就是女人，高兴的时候不是笑，而是哭上了。”&lt;/p>
&lt;p>许三观说：“我看她像是不高兴。”&lt;/p>
&lt;p>这时候许玉兰说话了，她说：“我怎么去对何小勇说呢？”&lt;/p>
&lt;p>她父亲说：“你就去对他说，你要结婚了，新郎叫许三观，新郎不叫何小勇。”&lt;/p>
&lt;p>“这话我怎么说得出口？他要是想不开，一头往墙上撞去，我可怎么办？”&lt;/p>
&lt;p>“他要是一头撞死了，”她父亲说，“你就可以不说话了。”&lt;/p>
&lt;p>许玉兰的心里放不下那个名叫何小勇的男人，那个说话时双手喜欢握住自己手腕的男人，他差不多天天都要微笑着来到她家，隔上几天就会在手里提上一瓶黄酒，与她的父亲坐在一起，喝着酒说着话，有时是嘿嘿地笑。有那么两次，趁着她的父亲去另一条街上的厕所时，他突然把她逼到了门后，用他的身体把她的身体压在了墙上，把她吓得心里咯咯乱跳。第一次她除了心脏狂跳一气，没有任何别的感受；第二次她发现了他的胡子，他的胡子像是刷子似的在她脸上乱成一片。&lt;/p>
&lt;p>第三次呢？在夜深人静时，许玉兰躺在床上这样想，她心里咯咯跳着去想她的父亲如何站起来，走出屋门，向另一条街的厕所走去，接着何小勇霍地站起来，碰倒了他坐的凳子，第三次把她压在了墙上。&lt;/p>
&lt;p>许玉兰把何小勇约到了那座木桥上，那是天黑的时候，许玉兰一看到何小勇就呜呜地哭了起来，她告诉何小勇，一个名叫许三观的人请她吃了小笼包子，吃了话梅、糖果还有半个西瓜，吃完以后她就要嫁给他了。何小勇看到有人走过来，就焦急地对许玉兰说：&lt;/p>
&lt;p>“喂，喂，别哭，你别哭，让别人看到了，我怎么办？”&lt;/p>
&lt;p>许玉兰说：“你替我去还给许三观八角三分钱，这样我就不欠他什么了。”&lt;/p>
&lt;p>何小勇说：“我们还没有结婚，就要我去替你还债？”&lt;/p>
&lt;p>许玉兰又说：“何小勇，你就到我家来做倒插门女婿吧，要不我爹就把我给许三观了。”&lt;/p>
&lt;p>何小勇说：“你胡说八道，我堂堂何小勇怎么会上你家倒插门呢？以后我的儿子们全姓许？不可能。”&lt;/p>
&lt;p>“那我只好去嫁给许三观了。”&lt;/p>
&lt;p>一个月以后，许玉兰嫁给了许三观。她要一件大红的旗袍，准备结婚时穿，许三观给她买了那件旗袍；她要两件棉袄，一件大红一件大绿，准备冬天的时候穿上它们，许三观给她买了一红一绿两块绸缎，让她空闲时自己做棉袄。她说家里要有一个钟，要有一面镜子，要有床有桌子有凳子，要有洗脸盆，还要有马桶……许三观说都有了。&lt;/p>
&lt;p>许玉兰觉得许三观其实不比何小勇差，论模样比何小勇还英俊几分，口袋里的钱也比何小勇多，而且看上去力气也比何小勇大。于是她看着许三观时开始微微笑起来，她对许三观说：&lt;/p>
&lt;p>“我是很能干的，我会做衣服，会做饭。你福气真是好，娶了我做你的女人……”&lt;/p>
&lt;p>许三观坐在凳子上笑着连连点头，许玉兰继续说：&lt;/p>
&lt;p>“我长得又漂亮，人又能干，往后你身上里里外外的衣服都由我来裁缝了，家里的活也是我的，就是那些重的活，像买米买煤什么的要你干，别的都不会让你插手，我会很心疼你的，你福气真是太好了，是不是？你怎么不点头呢？”&lt;/p>
&lt;p>“我点头了，我一直在点头。”许三观说。&lt;/p>
&lt;p>“对了，”许玉兰想起了什么，她说，“你听着，到了我过节的时候，我就什么都不做了，就是淘米洗菜的事我都不能做，我要休息了，那几天家里的活全得由你来做了，你听到了没有？你为什么不点头呢？”&lt;/p>
&lt;p>许三观点着头问她：“你过什么节？多长时间过一次？”&lt;/p>
&lt;p>“啊呀，”许玉兰叫道，“我过什么节你都不知道？”&lt;/p>
&lt;p>许三观摇着头说：“我不知道。”&lt;/p>
&lt;p>“就是来月经。”&lt;/p>
&lt;p>“月经？”&lt;/p>
&lt;p>“我们女人来月经你知道吗？”&lt;/p>
&lt;p>“我听说过。”&lt;/p>
&lt;p>“我说的就是来月经的时候，我什么都不能做了，我不能累，也不能碰冷水，一累一碰上冷水我就要肚子疼，就要发烧……”&lt;/p>
&lt;/details>
&lt;p style="text-align:center">再放一小段，这描写得真好。&lt;/p>
&lt;div class="mycard">
&lt;div class="content">&lt;p>「第二十五章」节选&lt;/p>
&lt;p>这一年夏天的时候，许三观从街上回到家里，对许玉兰说：&lt;/p>
&lt;p>“我这一路走过来，没看到几户人家屋里有人，全到街上去了。我这辈子没见过街上有这么多人，胳膊上都套着个红袖章，游行的、刷标语的、贴大字报的，大街的墙上全是大字报，一张一张往上贴，越贴越厚，那些墙壁都像是穿上棉袄了。我还见到了县长，那个大胖子山东人，从前可是城里最神气的人，我从前见到他时，他手里都端着一个茶杯，如今他手里提着个破脸盆，边敲边骂自己，骂自己的头是狗头，骂自己的腿是狗腿……”&lt;/p>
&lt;p>许三观说：“你知道吗？为什么工厂停工了、商店关门了、学校不上课、你也用不着去炸油条了？为什么有人被吊在了树上、有人被关进了牛棚、有人被活活打死？你知道吗？为什么毛主席一说话，就有人把他的话编成了歌，就有人把他的话刷到了墙上、刷到了地上、刷到了汽车上和轮船上、床单上和枕巾上、杯子上和锅上，连厕所的墙上和痰盂上都有？毛主席的名字为什么会这么长？你听着：伟大的领袖伟大的导师伟大的统帅伟大的舵手毛主席万岁万岁万万岁。一共有三十个字，这些都要一口气念下来，中间不能换气。你知道这是为什么？因为文化大革命来啦……”&lt;/p>
&lt;p>许三观说：“文化大革命闹到今天，我有点明白过来了，什么叫文化革命？其实就是一个报私仇的时候，以前谁要是得罪了你，你就写一张大字报，贴到街上去，说他是漏网地主也好，说他是反革命也好，怎么说都行。这年月法院没有了，警察也没有了，这年月最多的就是罪名，随便拿一个过来，写到大字报上，再贴出去，就用不着你自己动手了，别人会把他往死里整……这些日子，我躺在床上左思右想，是不是也找个仇人出来，写他一张大字报，报一下旧仇。我想来想去，竟然想不出一个仇人来，只有何小勇能算半个仇人，可那个王八蛋何小勇四年前就让卡车给撞死了。我许三观为人善良，几十年如一日，没有一个仇人，这也好，我没有仇人，就不会有人来贴我的大字报。”&lt;/p>&lt;/div>
&lt;/div>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>这部和《活着》我是这几天连着读的，对比下来，《许三观卖血记》更像小说，嗯应该说更像一个虚构的故事，因为里面的人物的说话方式就不像是在现实中的。两部小说从风格上看，就不像是同一人写的小说。写的真好，许三观这部我更喜欢，里面人物说话有趣。&lt;/p>
&lt;p>我之后会发《活着》的内容。&lt;/p></description></item><item><title>Go | 接口型函数</title><link>https://yaragos.top/p/interface-function/</link><pubDate>Sun, 05 May 2024 16:03:49 +0800</pubDate><guid>https://yaragos.top/p/interface-function/</guid><description>&lt;img src="https://yaragos.top/p/interface-function/cover.jpg" alt="Featured image of post Go | 接口型函数" />&lt;blockquote>
&lt;p>以下均摘自 Go 源码 &lt;a class="link" href="https://github.com/golang/go/blob/master/src/net/http/server.go" target="_blank" rel="noopener"
>go/src/net/http/server.go&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="接口型函数">接口型函数
&lt;/h2>&lt;ul>
&lt;li>以下代码中，定义了 &lt;code>HandlerFunc&lt;/code> 函数类型，该类型的参数和返回值与 &lt;code>Handler&lt;/code> 接口中的 &lt;code>ServeHTTP&lt;/code> 是一致的，并绑定了 &lt;code>ServeHTTP&lt;/code> 方法，在该方法中调用自己，从而实现了 &lt;code>Handler&lt;/code> 接口。像这样实现了接口的函数类型，简称为接口型函数&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Handler&lt;/span> &lt;span class="kd">interface&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">ServeHTTP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// The HandlerFunc type is an adapter to allow the use of
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ordinary functions as HTTP handlers. If f is a function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// with the appropriate signature, HandlerFunc(f) is a
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// [Handler] that calls f.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">HandlerFunc&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ServeHTTP calls f(w, r).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span> &lt;span class="nx">HandlerFunc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">ServeHTTP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="接口型函数作为参数">接口型函数作为参数
&lt;/h2>&lt;ul>
&lt;li>通常有以下两种方式来映射请求路径和处理函数&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 使用 http.HandleFunc()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Hello, %s!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">URL&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 映射根路径 &amp;#34;/&amp;#34; 到 handler 函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HandleFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 映射 &amp;#34;/hello&amp;#34; 到 handler 函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HandleFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/hello&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 监听 8080 端口
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenAndServe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;:8080&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 使用 http.Handle()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">customHandler&lt;/span> &lt;span class="kd">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">h&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">customHandler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">ServeHTTP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Hello from custom handler!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">myHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Hello from myHandler!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 使用自定义的 handler
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/custom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">customHandler&lt;/span>&lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 使用 http.HandlerFunc 适配器
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/mypath&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">HandlerFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">myHandler&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenAndServe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;:8080&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在上面的使用 &lt;code>http.Handle()&lt;/code> 的例子中，第二个参数不但可以是实现了 &lt;code>http.Handler&lt;/code> 接口的结构体，还可以像 &lt;code>http.HandleFunc()&lt;/code> 那样是普通函数，只需要在转换成 &lt;code>http.HandlerFunc&lt;/code> 类型即可。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Handle registers the handler for the given pattern in [DefaultServeMux].
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// The documentation for [ServeMux] explains how patterns are matched.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">Handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="nx">Handler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">use121&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultServeMux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mux121&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultServeMux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// HandleFunc registers the handler function for the given pattern in [DefaultServeMux].
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// The documentation for [ServeMux] explains how patterns are matched.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">use121&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultServeMux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mux121&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">handleFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DefaultServeMux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">HandlerFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">handler&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>对比两个方法的内部实现，发现内部逻辑并没有区别，只是 &lt;code>http.HandleFunc&lt;/code> 会将传入的 &lt;code>func(ResponseWriter, *Request)&lt;/code> 类型的参数转换成 &lt;code>http.Handler&lt;/code> 类型。&lt;/p>
&lt;p>我们再看 &lt;code>http.ListenAndServe&lt;/code> 函数的实现，摘自 &lt;a class="link" href="https://pkg.go.dev/net/http#ListenAndServe" target="_blank" rel="noopener"
>http package - net/http - Go Packages&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">ListenAndServe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">addr&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="nx">Handler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">server&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">Server&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Handler&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenAndServe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">srv&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">Server&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">ListenAndServe&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">srv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">shuttingDown&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ErrServerClosed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">srv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">addr&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;:http&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ln&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">srv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Serve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ln&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以看到第二个参数也是 &lt;code>http.Handler&lt;/code> 类型，例子中 &lt;code>http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil)&lt;/code> 传入的是 &lt;code>nil&lt;/code>，代表着使用标准库 &lt;code>net/http&lt;/code> 内置的路由，如果传入的是一个实现了 &lt;code>Handler&lt;/code> 接口的结构体就可以完全托管所有的 HTTP 请求。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>这样，既能够将普通的函数类型（需类型转换）作为参数，也可以将结构体作为参数，使用更为灵活，可读性也更好，这就是接口型函数的价值。&lt;/p>
&lt;p>&lt;a class="link" href="https://geektutu.com/post/7days-golang-q1.html" target="_blank" rel="noopener"
>参考文章&lt;/a>&lt;/p></description></item><item><title>用 Python 写了个备份脚本</title><link>https://yaragos.top/p/a-python-script-for-backup/</link><pubDate>Fri, 22 Mar 2024 20:50:44 +0800</pubDate><guid>https://yaragos.top/p/a-python-script-for-backup/</guid><description>&lt;img src="https://yaragos.top/p/a-python-script-for-backup/cover.jpg" alt="Featured image of post 用 Python 写了个备份脚本" />&lt;h2 id="前言">前言
&lt;/h2>&lt;blockquote>
&lt;p>首先我是通过 &lt;a class="link" href="https://github.com/TheLocehiliosan/yadm" target="_blank" rel="noopener"
>yadm&lt;/a> 来管理 dotfiles 的，写这个脚本主要是为了备份 dotfiles,我平时有备份文件的习惯（不仅仅是 dotfiles）。&lt;/p>
&lt;/blockquote>
&lt;h2 id="脚本">脚本
&lt;/h2>&lt;ul>
&lt;li>贴个地址：&lt;a class="link" href="https://github.com/yaragos/dotbak" target="_blank" rel="noopener"
>dotbak&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>具体怎么使用就不介绍了，README 里面有详细的说明。&lt;br>
主要是不需要什么第三方库， 几十行就够了。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>备份文件是个好习惯，我有个移动硬盘，平时用来拷贝视频资料（主要是我目前这电脑双系统，不想浪费宝贵的磁盘空间）和一些其他资料（比如一些软件包和字体、壁纸等）。&lt;/p></description></item><item><title>zsh插件管理器：从zplug转到zinit</title><link>https://yaragos.top/p/zsh-plugin-manager-from-zplug-to-zinit/</link><pubDate>Thu, 01 Feb 2024 18:09:12 +0800</pubDate><guid>https://yaragos.top/p/zsh-plugin-manager-from-zplug-to-zinit/</guid><description>&lt;img src="https://yaragos.top/p/zsh-plugin-manager-from-zplug-to-zinit/cover.jpg" alt="Featured image of post zsh插件管理器：从zplug转到zinit" />&lt;blockquote>
&lt;p>好久之前就使用的是zplug管理zsh插件，为了追求速度，打算使用zinit。&lt;/p>
&lt;/blockquote>
&lt;h2 id="配置">配置
&lt;/h2>&lt;p>我在zinit中多配置了一些插件，配置语法我目前也是一知半解，反正能用就行，我也不知道怎么更快，以后慢慢了解。&lt;/p>
&lt;ul>
&lt;li>zinit 配置&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># # ------------&amp;gt;&amp;gt;&amp;gt; zinit &amp;lt;&amp;lt;&amp;lt;-------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### Added by Zinit&amp;#39;s installer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> ! -f &lt;span class="nv">$HOME&lt;/span>/.local/share/zinit/zinit.git/zinit.zsh &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> print -P &lt;span class="s2">&amp;#34;%F{33} %F{220}Installing %F{33}ZDHARMA-CONTINUUM%F{220} Initiative Plugin Manager (%F{33}zdharma-continuum/zinit%F{220})…%f&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">command&lt;/span> mkdir -p &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.local/share/zinit&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">command&lt;/span> chmod g-rwX &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.local/share/zinit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">command&lt;/span> git clone https://github.com/zdharma-continuum/zinit &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.local/share/zinit/zinit.git&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> print -P &lt;span class="s2">&amp;#34;%F{33} %F{34}Installation successful.%f%b&amp;#34;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> print -P &lt;span class="s2">&amp;#34;%F{160} The clone has failed.%f%b&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.local/share/zinit/zinit.git/zinit.zsh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">autoload -Uz _zinit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">((&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="p">+_comps&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="o">))&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> _comps&lt;span class="o">[&lt;/span>zinit&lt;span class="o">]=&lt;/span>_zinit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Load a few important annexes, without Turbo (this is currently required for annexes)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit light-mode &lt;span class="k">for&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> zdharma-continuum/zinit-annex-as-monitor &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> zdharma-continuum/zinit-annex-bin-gem-node &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> zdharma-continuum/zinit-annex-patch-dl &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> zdharma-continuum/zinit-annex-rust
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># syntax highlight&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit ice lucid &lt;span class="nv">wait&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit light zsh-users/zsh-syntax-highlighting
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># auto-suggestion &amp;amp;&amp;amp; completion&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit ice lucid &lt;span class="nv">wait&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="nv">atload&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;_zsh_autosuggest_start&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit light zsh-users/zsh-autosuggestions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit ice lucid blockf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit light zsh-users/zsh-completions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit ice lucid &lt;span class="nv">wait&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit light Aloxaf/fzf-tab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># OMZ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit ice lucid &lt;span class="nv">wait&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::plugins/git/git.plugin.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::plugins/colored-man-pages/colored-man-pages.plugin.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Add `sudo` with &amp;lt;Esc&amp;gt;&amp;lt;Esc&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::plugins/sudo/sudo.plugin.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># theme&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::lib/theme-and-appearance.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::lib/git.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::lib/async_prompt.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::plugins/svn/svn.plugin.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zinit snippet OMZ::themes/ys.zsh-theme
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### End of Zinit&amp;#39;s installer chunk&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>zplug 配置&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ------------&amp;gt;&amp;gt;&amp;gt; zplug &amp;lt;&amp;lt;&amp;lt;-------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> ! -d ~/.zplug &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> git clone https://github.com/b4b4r07/zplug.git ~/.zplug
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">source&lt;/span> ~/.zplug/zplug
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> zplug update --self
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zplug/init.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;plugins/svn&amp;#34;&lt;/span>, from:oh-my-zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;themes/ys&amp;#34;&lt;/span>, from:oh-my-zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;lib/history&amp;#34;&lt;/span>, from:oh-my-zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;zsh-users/zsh-completions&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;zsh-users/zsh-autosuggestions&amp;#34;&lt;/span>, as:plugin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;zsh-users/zsh-syntax-highlighting&amp;#34;&lt;/span>, as:plugin, defer:2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &lt;span class="s2">&amp;#34;zsh-users/zsh-history-substring-search&amp;#34;&lt;/span>, as:plugin, defer:3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Install plugins if there are plugins that have not been installed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> ! zplug check --verbose&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">printf&lt;/span> &lt;span class="s2">&amp;#34;Install zplug plugins? [y/N]: &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">read&lt;/span> -q&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo&lt;span class="p">;&lt;/span> zplug install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug load
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="对比">对比
&lt;/h2>&lt;img src="image.png" style="zoom:80%;align:center;">
&lt;p>对比发现，zinit虽然加载了更多插件，但启动速度稳定在0.2秒左右，而zplug则在0.5秒左右。&lt;/p></description></item><item><title>我博客上的那些短代码</title><link>https://yaragos.top/p/shortcodes-my-blog-use/</link><pubDate>Sun, 28 Jan 2024 12:11:01 +0800</pubDate><guid>https://yaragos.top/p/shortcodes-my-blog-use/</guid><description>&lt;img src="https://yaragos.top/p/shortcodes-my-blog-use/cover.jpg" alt="Featured image of post 我博客上的那些短代码" />&lt;h2 id="short-code">Short Code
&lt;/h2>&lt;abbr title="缩写内容">缩写（鼠标放上来查看）&lt;/abbr>
&lt;hr>
&lt;p>&lt;p style="text-align:left">文字居左&lt;/p>
&lt;br>
&lt;p style="text-align:center">文字居中&lt;/p>
&lt;br>
&lt;p style="text-align:right">文字居右&lt;/p>
&lt;/p>
&lt;hr>
&lt;p>
&lt;div class="chat --other">
&lt;div class="chat__inner">
&lt;div class="chat__meta">Alice&amp;nbsp;&amp;nbsp;&amp;nbsp;2023-07-01 12:00&lt;/div>
&lt;div class="chat__text">
Left message.
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;br>
&lt;div class="chat --self">
&lt;div class="chat__inner">
&lt;div class="chat__meta" style="text-align: right;">2024-07-01 12:01&amp;nbsp;&amp;nbsp;&amp;nbsp;Bob&lt;/div>
&lt;div class="chat__text">
Right message.
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;/p>
&lt;hr>
&lt;p>&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake">这是基本的摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-hard">这个段落有剧烈摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-slow">这个段落有慢速摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-little">这个段落有轻微摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-horizontal">这个段落有水平摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-vertical">这个段落有垂直摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-rotate">这个段落有旋转摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-opacity">这个段落有透明度变化摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-crazy">这个段落有疯狂摇晃效果。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-freeze">这个段落在悬停时冻结。&lt;/div>&lt;br>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css" />
&lt;div class="shake shake-constant">这个段落持续摇晃。&lt;/div>&lt;/p>
&lt;hr>
&lt;p>&lt;font class="colorfulfont">文字颜色渐变&lt;br>第二行222222&lt;br>第三行3333333333&lt;/font>&lt;/p>
&lt;hr>
&lt;blockquote>
&lt;p>这是引用内容&lt;/p>
&lt;footer style="text-align:right">
&lt;strong>作者&lt;/strong>
&lt;cite>
&lt;a href="https://www.baidu.com" title="https://www.baidu.com" rel="noopener noreferrer">作品名（点击跳转）&lt;/a>
&lt;/cite>
&lt;/footer>
&lt;/blockquote>
&lt;blockquote class="quote-center"> &lt;/p>&lt;p>这是居中引用&lt;br>
第二行&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;p>键盘按键：&lt;kbd>Ctrl&lt;/kbd>+&lt;kbd>Alt&lt;/kbd>+&lt;kbd>`&lt;/kbd>&lt;/p>
&lt;hr>
&lt;p>打分：&lt;span class="star-rating">&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star-outline">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;i class="star-outline">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">&lt;path d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"/>&lt;/svg>&lt;/i>&lt;/span>
&lt;/p>
&lt;hr>
&lt;div class="mycard">
&lt;div class="content"> 这里是卡片内容&lt;br>
不能插入图片 &lt;/div>
&lt;/div>
&lt;hr>
&lt;div class="notice notice-warning" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 576 512" fill="hsl(0, 65%, 65%)">&lt;path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6.0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6.0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"/>&lt;/svg>&lt;/div>&lt;p>This is a warning.&lt;/p>&lt;/div>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>This is a info.&lt;/p>&lt;/div>
&lt;div class="notice notice-note" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(200, 65%, 65%)">&lt;path d="M504 256a248 248 0 11-496 0 248 248 0 01496 0zm-248 50a46 46 0 100 92 46 46 0 000-92zm-44-165l8 136c0 6 5 11 12 11h48c7 0 12-5 12-11l8-136c0-7-5-13-12-13h-64c-7 0-12 6-12 13z"/>&lt;/svg>&lt;/div>&lt;p>This is a note.&lt;/p>&lt;/div>
&lt;div class="notice notice-tip" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(140, 65%, 65%)">&lt;path d="M504 256a248 248 0 11-496 0 248 248 0 01496 0zM227 387l184-184c7-6 7-16 0-22l-22-23c-7-6-17-6-23 0L216 308l-70-70c-6-6-16-6-23 0l-22 23c-7 6-7 16 0 22l104 104c6 7 16 7 22 0z"/>&lt;/svg>&lt;/div>&lt;p>This is a tip.&lt;/p>&lt;/div>
&lt;details>
&lt;summary>展开看内容&lt;/summary>
内容
&lt;/details>
&lt;hr>
&lt;p>高斯模糊效果（鼠标放上去查看）:&lt;br>
&lt;span class="blur">帅到模糊&lt;/span>&lt;/p>
&lt;hr>
&lt;ul>
&lt;li>轮播图&lt;/li>
&lt;/ul>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/css/swiper.min.css">
&lt;div class="swiper-container">
&lt;div class="swiper-wrapper">
&lt;div class="swiper-slide">
&lt;img src="1.jpg" alt="">
&lt;/div>
&lt;div class="swiper-slide">
&lt;img src="2.jpg" alt="">
&lt;/div>
&lt;div class="swiper-slide">
&lt;img src="3.jpg" alt="">
&lt;/div>
&lt;/div>
&lt;div class="swiper-pagination">&lt;/div>
&lt;/div>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/js/swiper.min.js">&lt;/script>
&lt;script>
var swiper = new Swiper('.swiper-container', {
pagination: '.swiper-pagination',
paginationClickable: true,
autoHeight: true,
keyboardControl : true,
mousewheelControl : true,
autoplay : 5000,
lazyLoading : true,
lazyLoadingInPrevNext : true,
loop : true,
});
&lt;/script>
&lt;h2 id="link">Link
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.sleepymoon.cyou/2023/hugo-shortcodes/" target="_blank" rel="noopener"
>参考文章&lt;/a>&lt;/li>
&lt;li>我挑选了部分我认为有用的shortcode,并对部分进行了修改，有需要的可以去我Github仓库查看源码。&lt;/li>
&lt;/ul></description></item><item><title>Nushell | 跨平台且现代化的shell</title><link>https://yaragos.top/p/nushell-a-new-shell/</link><pubDate>Sun, 24 Dec 2023 15:42:04 +0800</pubDate><guid>https://yaragos.top/p/nushell-a-new-shell/</guid><description>&lt;img src="https://yaragos.top/p/nushell-a-new-shell/cover.jpg" alt="Featured image of post Nushell | 跨平台且现代化的shell" />&lt;blockquote>
&lt;p>像这样现代的shell,以前听说过fish,也简单尝试过，一种交互式的shell,通过打开浏览器进行配置，方便快捷。&lt;br>
今天看到这样一种新颖的shell,就体验了一下，它Github还挺多start的，Rust语言编写，跨平台，文档有中文，太友好了。&lt;/p>
&lt;/blockquote>
&lt;h2 id="overview">Overview
&lt;/h2>
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/css/swiper.min.css">
&lt;div class="swiper-container">
&lt;div class="swiper-wrapper">
&lt;div class="swiper-slide">
&lt;img src="image.png" alt="">
&lt;/div>
&lt;div class="swiper-slide">
&lt;img src="image1.png" alt="">
&lt;/div>
&lt;div class="swiper-slide">
&lt;img src="image2.png" alt="">
&lt;/div>
&lt;div class="swiper-slide">
&lt;img src="image3.png" alt="">
&lt;/div>
&lt;/div>
&lt;div class="swiper-pagination">&lt;/div>
&lt;/div>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/js/swiper.min.js">&lt;/script>
&lt;script>
var swiper = new Swiper('.swiper-container', {
pagination: '.swiper-pagination',
paginationClickable: true,
autoHeight: true,
keyboardControl : true,
mousewheelControl : true,
autoplay : 5000,
lazyLoading : true,
lazyLoadingInPrevNext : true,
loop : true,
});
&lt;/script>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.nushell.sh/zh-CN/" target="_blank" rel="noopener"
>官网：https://www.nushell.sh/zh-CN/&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/nushell/nushell" target="_blank" rel="noopener"
>Github：https://github.com/nushell/nushell&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Nushell 有许多不同与bash这类传统shell的特性（看官网感觉挺深奥的）。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>开箱即用，自带了历史命令，自动补全，语法高亮，清晰的错误提示，彩色输出等功能。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Nushell 通过管道传递结构化数据，并且通过内置命令很方便地进行排序和过滤数据，而不需要像传统shell那样用awk,sed,grep等命令来解析字符串，让使用者专注于解决问题本身而不需要花过多心思去处理数据。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>内置命令挺多，像ls,cd等基础命令它都内置了，ls输出格式挺美观。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>我只是通过brew安装尝试了一下，我之前一直是使用zsh的，配置的挺完美了，而且Nu的配置语法和zsh有些不同，配置文件也不在&lt;code>~&lt;/code>目录而是在&lt;code>~/.config/nu&lt;/code>，不适合作为我在 Linux 系统上的常用shell，我觉得可以配合 &lt;a class="link" href="https://starship.rs/" target="_blank" rel="noopener"
>Starship&lt;/a> 在Windows上使用。它目前开发还是挺活跃的，期待以后的发展。&lt;/p></description></item><item><title>优雅地搜索命令历史记录</title><link>https://yaragos.top/p/search-command-history-elegantly/</link><pubDate>Fri, 24 Nov 2023 13:32:48 +0800</pubDate><guid>https://yaragos.top/p/search-command-history-elegantly/</guid><description>&lt;img src="https://yaragos.top/p/search-command-history-elegantly/cover.jpg" alt="Featured image of post 优雅地搜索命令历史记录" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>&lt;code>history&lt;/code>命令可以显示所有的命令历史记录，但难以查找命令。&lt;br>
聪明的你当然会想到配合&lt;code>grep&lt;/code>命令进行搜索，可行但效率太低，这样检索不够灵活，要查找记忆模糊的命令还需要正则匹配。&lt;/p>
&lt;h2 id="模糊搜索命令历史记录">模糊搜索命令历史记录
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/junegunn/fzf" target="_blank" rel="noopener"
>fzf&lt;/a>是一个交互式命令行模糊搜索工具，可以模糊搜索内容、模糊补全文件路径等，功能强大，更多功能请参考官方文档。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>通过自带的包管理器或&lt;code>homebrew&lt;/code>等第三方包管理器安装即可，参考官方文档安装。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>按下&lt;code>ctrl+r&lt;/code>组合键，进入命令历史记录搜索模式，输入搜索内容，fzf会自动搜索匹配的命令。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ctrl+j&lt;/code>或&lt;code>ctrl+n&lt;/code>向下移动，&lt;code>ctrl+k&lt;/code>或&lt;code>ctrl+p&lt;/code>向上移动，也可以使用方向键或鼠标滚轮，按下回车选中命令。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>按下&lt;code>ctrl+g&lt;/code>组合键或&lt;code>Esc&lt;/code>键，退出搜索模式，返回命令行。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果你忘了快捷键，可以使用&lt;code>history | fzf&lt;/code>命令，通过管道让&lt;code>fzf&lt;/code>模糊搜索&lt;code>history&lt;/code>的输出内容。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="使用fzf进行文件路径补全">使用fzf进行文件路径补全
&lt;/h2>&lt;p>既然提到&lt;code>fzf&lt;/code>，那么顺便介绍一下如何使用它进行文件路径补全。&lt;br>
当然，默认按&lt;code>tab&lt;/code>键也可以进行补全，但&lt;code>fzf&lt;/code>更好用。&lt;/p>
&lt;ul>
&lt;li>如果想补全指定目录下的某个文件名，在指定目录下输入两个星号，然后按下&lt;code>tab&lt;/code>键，就会打开&lt;code>fzf&lt;/code>的交互式界面进行匹配。&lt;/li>
&lt;li>例：比如想补全&lt;code>~/.config/&lt;/code>下的某个较长的文件名，&lt;code>ls ~/.config/**&lt;/code> ，然后按下&lt;code>tab&lt;/code>键&lt;/li>
&lt;li>如果想输入某个用户目录下的路径，可以使用快捷键&lt;code>ctrl+t&lt;/code>打开交互式界面，选中后回车上屏。&lt;/li>
&lt;/ul></description></item><item><title>为啥我选择 Linux 作为日常工作环境？</title><link>https://yaragos.top/p/why-i-choose-linux-as-my-daily-work-environment/</link><pubDate>Sun, 19 Nov 2023 18:59:24 +0800</pubDate><guid>https://yaragos.top/p/why-i-choose-linux-as-my-daily-work-environment/</guid><description>&lt;img src="https://yaragos.top/p/why-i-choose-linux-as-my-daily-work-environment/cover.jpg" alt="Featured image of post 为啥我选择 Linux 作为日常工作环境？" />&lt;blockquote>
&lt;p>主要尝试了deb系比如debian, deepin, zorin, mint等以及arch系比如Manjaro, EndeavourOS等，桌面环境只尝试了Gnome和KDE,没尝试过各种WM。目前一直在用mint,它的Cinnamon桌面挺好用。&lt;/p>
&lt;/blockquote>
&lt;h2 id="why">why
&lt;/h2>&lt;ol>
&lt;li>轻量，开机后占用内存很少，速度快，当初win11有时候拖动窗口都会卡顿，打开个IDE加载七八秒，实在用不下去。&lt;/li>
&lt;li>环境配置方便，安装和卸载软件也很方便，不像win&amp;hellip;&lt;/li>
&lt;li>我不打游戏。&lt;/li>
&lt;/ol>
&lt;h2 id="软件安装">软件安装
&lt;/h2>&lt;p>像 git, vim 这些用apt安装就行（推荐&lt;code>nala&lt;/code>，一个更好看的apt）；&lt;br>
像WPS, vscode 和 QQ, 微信等可以通过&lt;a class="link" href="https://gitee.com/spark-store-project/spark-store" target="_blank" rel="noopener"
>星火应用商店&lt;/a>安装；&lt;br>
第三方包管理工具推荐&lt;a class="link" href="https://brew.sh/" target="_blank" rel="noopener"
>homebrew&lt;/a>，挺多软件都可以用它安装，像docker, mysql, 还有各种开发环境；&lt;br>
部分软件就下载二进制文件安装，或者自己编译。&lt;/p>
&lt;h2 id="开发环境搭建和管理">开发环境搭建和管理
&lt;/h2>&lt;p>主流语言环境直接brew安装就行，apt也行，就是版本旧了点。&lt;br>
开发环境的版本管理：node版本管理当然是大名鼎鼎的nvm,不过我目前用的是fnm,更轻量更快；golang版本管理就gvm;java版本管理就sdkman(sdkman不止管理jdk还有maven等)。&lt;/p>
&lt;p>其实我就node切换管理频繁些，go就一个版本就够用了，像jdk,maven,maven,tomcat我就把常用的版本放在&lt;code>~/env&lt;/code>目录下，在IDE中选择对应环境就行。&lt;/p>
&lt;h2 id="改键">改键
&lt;/h2>&lt;p>为什么我要单独开个小标题讲这个呢？&lt;/p>
&lt;p>首先对于主流配列我习惯交换左&lt;code>Ctrl&lt;/code>和&lt;code>Caps Lock&lt;/code>键，并且由于常用vim，我会设置&lt;code>Caps Lock&lt;/code>键单独按是&lt;code>Esc&lt;/code>组合按是&lt;code>Ctrl&lt;/code>；且对于60%配列键盘要交换&lt;kbd>`&lt;/kbd>和&lt;kbd>Esc&lt;/kbd>而80%配列键盘不交换。因为这些改键需求，我理想中的改键软件是能根据不同键盘设备使用不同的键位映射且能够实现较为复杂的映射。&lt;/p>
&lt;p>如此苛刻的条件，我只发现&lt;a class="link" href="https://github.com/rvaiya/keyd" target="_blank" rel="noopener"
>keyd&lt;/a>能满足我的要求，它是内核级别的改键，在x11和wayland下都能工作，通过编辑配置文件的配置方式便于我迁移配置。但它只支持Linux，唉，Mac这键位也是难受。&lt;/p>
&lt;p>键盘这块，我的想法是以后整把支持via的70%配列键盘，弥补改键软件这方面的空缺，让不同平台的体验尽量一致。&lt;/p></description></item><item><title>记一次小手术经历</title><link>https://yaragos.top/p/record-a-surgery/</link><pubDate>Sat, 29 Jul 2023 22:21:29 +0800</pubDate><guid>https://yaragos.top/p/record-a-surgery/</guid><description>&lt;img src="https://yaragos.top/p/record-a-surgery/cover.jpg" alt="Featured image of post 记一次小手术经历" />&lt;blockquote>
&lt;p>先从一个多月前说起，耳朵后突然长了个包，红肿，触碰会痛，诊所拿药，网上问诊买药，情况没有好转。半个月前去医院挂门诊外科，做个彩超，医生也不确定是什么玩意，开了三盒中成药和一支药膏，说十几天后没消肿就去做个引流小手术。今天挂了耳鼻喉科，做了个血常规，然后去做囊肿引流手术。&lt;/p>
&lt;/blockquote>
&lt;h2 id="手术经过">手术经过
&lt;/h2>&lt;hr>
&lt;div class="chat --self">
&lt;div class="chat__inner">
&lt;div class="chat__meta" style="text-align: right;">&amp;nbsp;&amp;nbsp;&amp;nbsp;我&lt;/div>
&lt;div class="chat__text">
医生，打麻药痛吗？
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;div class="chat --other">
&lt;div class="chat__inner">
&lt;div class="chat__meta">医生&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div>
&lt;div class="chat__text">
痛，就打麻药那一瞬间痛。
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;div class="chat --self">
&lt;div class="chat__inner">
&lt;div class="chat__meta" style="text-align: right;">&amp;nbsp;&amp;nbsp;&amp;nbsp;我&lt;/div>
&lt;div class="chat__text">
那打麻药的时候告诉我。
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;div class="chat --other">
&lt;div class="chat__inner">
&lt;div class="chat__meta">医生&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div>
&lt;div class="chat__text">
那怎么能告诉你。
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;p>骗人，打麻药很痛。&lt;/p>
&lt;hr>
&lt;div class="chat --self">
&lt;div class="chat__inner">
&lt;div class="chat__meta" style="text-align: right;">&amp;nbsp;&amp;nbsp;&amp;nbsp;我&lt;/div>
&lt;div class="chat__text">
医生，为什么我还是感觉到疼？
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;div class="chat --other">
&lt;div class="chat__inner">
&lt;div class="chat__meta">医生&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div>
&lt;div class="chat__text">
对呀，哪里说打了麻药就能不痛了。
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;hr>
&lt;p style="text-align:center">手术进行中&lt;/p>
&lt;p>医生突然注意到了我外耳道的血痂，那是一个月前睡觉时耳机和耳塞戴久了蹭破的，后来结痂了，我就没在意。&lt;/p>
&lt;div class="notice notice-warning" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 576 512" fill="hsl(0, 65%, 65%)">&lt;path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6.0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6.0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"/>&lt;/svg>&lt;/div>&lt;p>嗯？这是个什么玩意？&lt;/p>&lt;/div>
&lt;p>他拿着的不知道是剪子还是镊子，咔嚓咔嚓处理着血痂，我感觉那不是痂而是我的肉，可以肯定的是，血痂粘的很紧，我感觉我的肉被剪下来，巨痛。&lt;/p>
&lt;p style="text-align:center">The End&lt;/p>
&lt;div class="chat --other">
&lt;div class="chat__inner">
&lt;div class="chat__meta">医生&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div>
&lt;div class="chat__text">
明天记得来换药。
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;div class="chat --self">
&lt;div class="chat__inner">
&lt;div class="chat__meta" style="text-align: right;">&amp;nbsp;&amp;nbsp;&amp;nbsp;我&lt;/div>
&lt;div class="chat__text">
那我什么时候来？
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;div class="chat --other">
&lt;div class="chat__inner">
&lt;div class="chat__meta">医生&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div>
&lt;div class="chat__text">
工作时间，上午九点到十二点，下午两点到五点。
&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.chat {
margin: 10px;
padding: 10px;
position: relative;
transition: transform 0.2s;
max-width: 80%;
min-width: 15%;
}
.chat:hover {
transform: scale(1.05);
}
.chat.--self {
text-align: left;
background-color: #ecf5ff;
color: #000000;
border-radius: 15px;
width: fit-content;
margin-left: auto;
}
.chat.--self::before {
content: "";
position: absolute;
right: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 0 0 20px;
border-style: solid;
border-color: transparent transparent transparent #ecf5ff;
}
.chat.--other {
text-align: left;
background-color: #ffecec;
color: #333;
border-radius: 15px;
position: relative;
width: fit-content;
}
.chat.--other::before {
content: "";
position: absolute;
left: -18px;
bottom: 5px;
transform: translateY(-50%);
border-width: 15px 20px 0 0;
border-style: solid;
border-color: transparent #ffecec transparent transparent;
}
.chat__meta {
font-weight: bold;
font-size: 0.67em;
color: #707070;
margin-bottom: 5px;
}
.chat__text {
font-size: 0.9em;
margin-left: 10px;
word-break: break-all;
}
[data-scheme="dark"] {
.chat.--self {
color: #fefefe;
background-color: #253958;
}
.chat.--self::before {
border-color: transparent transparent transparent #253958;
}
.chat.--other {
color: #fefefe;
background-color: #1a1a1a;
}
.chat.--other::before {
border-color: transparent #1a1a1a transparent transparent;
}
.chat__meta {
color: #b1b1b1;
}
}
&lt;/style>
&lt;hr>
&lt;p>这工作时间我是真的很羡慕。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>没有结语，明天还要去换药。&lt;/p>
&lt;ul>
&lt;li>更新：第二天另一个医生换的药，拿双氧水给我清洗&amp;hellip;&lt;/li>
&lt;/ul></description></item></channel></rss>